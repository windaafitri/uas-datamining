Traceback (most recent call last):
  File "C:\laragon\bin\python\python-3.10\lib\site-packages\jupyter_cache\executors\utils.py", line 58, in single_nb_execution
    executenb(
  File "C:\laragon\bin\python\python-3.10\lib\site-packages\nbclient\client.py", line 1314, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "C:\laragon\bin\python\python-3.10\lib\site-packages\jupyter_core\utils\__init__.py", line 165, in wrapped
    return loop.run_until_complete(inner)
  File "C:\laragon\bin\python\python-3.10\lib\asyncio\base_events.py", line 646, in run_until_complete
    return future.result()
  File "C:\laragon\bin\python\python-3.10\lib\site-packages\nbclient\client.py", line 709, in async_execute
    await self.async_execute_cell(
  File "C:\laragon\bin\python\python-3.10\lib\site-packages\nbclient\client.py", line 1062, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "C:\laragon\bin\python\python-3.10\lib\site-packages\nbclient\client.py", line 918, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
from sklearn.neighbors import LocalOutlierFactor

df = df_data
# df

# simpan quality
letter_lettr = df[['lettr']]

# #hapus kolom yang tidak diperlukan
df = df.drop(['lettr'], axis=1)
# df_wine
# df_wine.coloumns

# # Inisialisasi dan fit model LOF
lof = LocalOutlierFactor(n_neighbors=4, contamination=0.1)  # Set parameter LOF
outlier_labels = lof.fit_predict(df)

# # Tambahkan label outlier dan quality k cve dataframe
df['Outlier'] = outlier_labels
df['lettr'] = letter_lettr
# df_cleaned = df_wine[df_wine['Outlier'] != -1]

# Menampilkan outlier
outliers = df[df['Outlier'] == -1]
print(f"Jumlah outlier yang terdeteksi: {len(outliers)}")
print(outliers)

# df_cleaned
df
# print(df_cleaned[['quality','LOF_Score']])
------------------


[1;31m---------------------------------------------------------------------------[0m
[1;31mMemoryError[0m                               Traceback (most recent call last)
Cell [1;32mIn[6], line 16[0m
[0;32m     11[0m [38;5;66;03m# df_wine[39;00m
[0;32m     12[0m [38;5;66;03m# df_wine.coloumns[39;00m
[0;32m     13[0m 
[0;32m     14[0m [38;5;66;03m# # Inisialisasi dan fit model LOF[39;00m
[0;32m     15[0m lof [38;5;241m=[39m LocalOutlierFactor(n_neighbors[38;5;241m=[39m[38;5;241m4[39m, contamination[38;5;241m=[39m[38;5;241m0.1[39m)  [38;5;66;03m# Set parameter LOF[39;00m
[1;32m---> 16[0m outlier_labels [38;5;241m=[39m [43mlof[49m[38;5;241;43m.[39;49m[43mfit_predict[49m[43m([49m[43mdf[49m[43m)[49m
[0;32m     18[0m [38;5;66;03m# # Tambahkan label outlier dan quality k cve dataframe[39;00m
[0;32m     19[0m df[[38;5;124m'[39m[38;5;124mOutlier[39m[38;5;124m'[39m] [38;5;241m=[39m outlier_labels

File [1;32mC:\laragon\bin\python\python-3.10\lib\site-packages\sklearn\neighbors\_lof.py:256[0m, in [0;36mLocalOutlierFactor.fit_predict[1;34m(self, X, y)[0m
[0;32m    232[0m [38;5;250m[39m[38;5;124;03m"""Fit the model to the training set X and return the labels.[39;00m
[0;32m    233[0m 
[0;32m    234[0m [38;5;124;03m**Not available for novelty detection (when novelty is set to True).**[39;00m
[1;32m   (...)[0m
[0;32m    250[0m [38;5;124;03m    Returns -1 for anomalies/outliers and 1 for inliers.[39;00m
[0;32m    251[0m [38;5;124;03m"""[39;00m
[0;32m    253[0m [38;5;66;03m# As fit_predict would be different from fit.predict, fit_predict is[39;00m
[0;32m    254[0m [38;5;66;03m# only available for outlier detection (novelty=False)[39;00m
[1;32m--> 256[0m [38;5;28;01mreturn[39;00m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mfit[49m[43m([49m[43mX[49m[43m)[49m[38;5;241m.[39m_predict()

File [1;32mC:\laragon\bin\python\python-3.10\lib\site-packages\sklearn\base.py:1473[0m, in [0;36m_fit_context.<locals>.decorator.<locals>.wrapper[1;34m(estimator, *args, **kwargs)[0m
[0;32m   1466[0m     estimator[38;5;241m.[39m_validate_params()
[0;32m   1468[0m [38;5;28;01mwith[39;00m config_context(
[0;32m   1469[0m     skip_parameter_validation[38;5;241m=[39m(
[0;32m   1470[0m         prefer_skip_nested_validation [38;5;129;01mor[39;00m global_skip_validation
[0;32m   1471[0m     )
[0;32m   1472[0m ):
[1;32m-> 1473[0m     [38;5;28;01mreturn[39;00m fit_method(estimator, [38;5;241m*[39margs, [38;5;241m*[39m[38;5;241m*[39mkwargs)

File [1;32mC:\laragon\bin\python\python-3.10\lib\site-packages\sklearn\neighbors\_lof.py:291[0m, in [0;36mLocalOutlierFactor.fit[1;34m(self, X, y)[0m
[0;32m    283[0m     warnings[38;5;241m.[39mwarn(
[0;32m    284[0m         [38;5;124m"[39m[38;5;124mn_neighbors ([39m[38;5;132;01m%s[39;00m[38;5;124m) is greater than the [39m[38;5;124m"[39m
[0;32m    285[0m         [38;5;124m"[39m[38;5;124mtotal number of samples ([39m[38;5;132;01m%s[39;00m[38;5;124m). n_neighbors [39m[38;5;124m"[39m
[0;32m    286[0m         [38;5;124m"[39m[38;5;124mwill be set to (n_samples - 1) for estimation.[39m[38;5;124m"[39m
[0;32m    287[0m         [38;5;241m%[39m ([38;5;28mself[39m[38;5;241m.[39mn_neighbors, n_samples)
[0;32m    288[0m     )
[0;32m    289[0m [38;5;28mself[39m[38;5;241m.[39mn_neighbors_ [38;5;241m=[39m [38;5;28mmax[39m([38;5;241m1[39m, [38;5;28mmin[39m([38;5;28mself[39m[38;5;241m.[39mn_neighbors, n_samples [38;5;241m-[39m [38;5;241m1[39m))
[1;32m--> 291[0m [38;5;28mself[39m[38;5;241m.[39m_distances_fit_X_, _neighbors_indices_fit_X_ [38;5;241m=[39m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mkneighbors[49m[43m([49m
[0;32m    292[0m [43m    [49m[43mn_neighbors[49m[38;5;241;43m=[39;49m[38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mn_neighbors_[49m
[0;32m    293[0m [43m[49m[43m)[49m
[0;32m    295[0m [38;5;28;01mif[39;00m [38;5;28mself[39m[38;5;241m.[39m_fit_X[38;5;241m.[39mdtype [38;5;241m==[39m np[38;5;241m.[39mfloat32:
[0;32m    296[0m     [38;5;28mself[39m[38;5;241m.[39m_distances_fit_X_ [38;5;241m=[39m [38;5;28mself[39m[38;5;241m.[39m_distances_fit_X_[38;5;241m.[39mastype(
[0;32m    297[0m         [38;5;28mself[39m[38;5;241m.[39m_fit_X[38;5;241m.[39mdtype,
[0;32m    298[0m         copy[38;5;241m=[39m[38;5;28;01mFalse[39;00m,
[0;32m    299[0m     )

File [1;32mC:\laragon\bin\python\python-3.10\lib\site-packages\sklearn\neighbors\_base.py:886[0m, in [0;36mKNeighborsMixin.kneighbors[1;34m(self, X, n_neighbors, return_distance)[0m
[0;32m    883[0m     [38;5;28;01melse[39;00m:
[0;32m    884[0m         kwds [38;5;241m=[39m [38;5;28mself[39m[38;5;241m.[39meffective_metric_params_
[1;32m--> 886[0m     chunked_results [38;5;241m=[39m [38;5;28;43mlist[39;49m[43m([49m
[0;32m    887[0m [43m        [49m[43mpairwise_distances_chunked[49m[43m([49m
[0;32m    888[0m [43m            [49m[43mX[49m[43m,[49m
[0;32m    889[0m [43m            [49m[38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_fit_X[49m[43m,[49m
[0;32m    890[0m [43m            [49m[43mreduce_func[49m[38;5;241;43m=[39;49m[43mreduce_func[49m[43m,[49m
[0;32m    891[0m [43m            [49m[43mmetric[49m[38;5;241;43m=[39;49m[38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43meffective_metric_[49m[43m,[49m
[0;32m    892[0m [43m            [49m[43mn_jobs[49m[38;5;241;43m=[39;49m[43mn_jobs[49m[43m,[49m
[0;32m    893[0m [43m            [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwds[49m[43m,[49m
[0;32m    894[0m [43m        [49m[43m)[49m
[0;32m    895[0m [43m    [49m[43m)[49m
[0;32m    897[0m [38;5;28;01melif[39;00m [38;5;28mself[39m[38;5;241m.[39m_fit_method [38;5;129;01min[39;00m [[38;5;124m"[39m[38;5;124mball_tree[39m[38;5;124m"[39m, [38;5;124m"[39m[38;5;124mkd_tree[39m[38;5;124m"[39m]:
[0;32m    898[0m     [38;5;28;01mif[39;00m issparse(X):

File [1;32mC:\laragon\bin\python\python-3.10\lib\site-packages\sklearn\metrics\pairwise.py:2161[0m, in [0;36mpairwise_distances_chunked[1;34m(X, Y, reduce_func, metric, n_jobs, working_memory, **kwds)[0m
[0;32m   2159[0m [38;5;28;01melse[39;00m:
[0;32m   2160[0m     X_chunk [38;5;241m=[39m X[sl]
[1;32m-> 2161[0m D_chunk [38;5;241m=[39m pairwise_distances(X_chunk, Y, metric[38;5;241m=[39mmetric, n_jobs[38;5;241m=[39mn_jobs, [38;5;241m*[39m[38;5;241m*[39mkwds)
[0;32m   2162[0m [38;5;28;01mif[39;00m (X [38;5;129;01mis[39;00m Y [38;5;129;01mor[39;00m Y [38;5;129;01mis[39;00m [38;5;28;01mNone[39;00m) [38;5;129;01mand[39;00m PAIRWISE_DISTANCE_FUNCTIONS[38;5;241m.[39mget(
[0;32m   2163[0m     metric, [38;5;28;01mNone[39;00m
[0;32m   2164[0m ) [38;5;129;01mis[39;00m euclidean_distances:
[0;32m   2165[0m     [38;5;66;03m# zeroing diagonal, taking care of aliases of "euclidean",[39;00m
[0;32m   2166[0m     [38;5;66;03m# i.e. "l2"[39;00m
[0;32m   2167[0m     D_chunk[38;5;241m.[39mflat[sl[38;5;241m.[39mstart :: _num_samples(X) [38;5;241m+[39m [38;5;241m1[39m] [38;5;241m=[39m [38;5;241m0[39m

File [1;32mC:\laragon\bin\python\python-3.10\lib\site-packages\sklearn\utils\_param_validation.py:213[0m, in [0;36mvalidate_params.<locals>.decorator.<locals>.wrapper[1;34m(*args, **kwargs)[0m
[0;32m    207[0m [38;5;28;01mtry[39;00m:
[0;32m    208[0m     [38;5;28;01mwith[39;00m config_context(
[0;32m    209[0m         skip_parameter_validation[38;5;241m=[39m(
[0;32m    210[0m             prefer_skip_nested_validation [38;5;129;01mor[39;00m global_skip_validation
[0;32m    211[0m         )
[0;32m    212[0m     ):
[1;32m--> 213[0m         [38;5;28;01mreturn[39;00m func([38;5;241m*[39margs, [38;5;241m*[39m[38;5;241m*[39mkwargs)
[0;32m    214[0m [38;5;28;01mexcept[39;00m InvalidParameterError [38;5;28;01mas[39;00m e:
[0;32m    215[0m     [38;5;66;03m# When the function is just a wrapper around an estimator, we allow[39;00m
[0;32m    216[0m     [38;5;66;03m# the function to delegate validation to the estimator, but we replace[39;00m
[0;32m    217[0m     [38;5;66;03m# the name of the estimator by the name of the function in the error[39;00m
[0;32m    218[0m     [38;5;66;03m# message to avoid confusion.[39;00m
[0;32m    219[0m     msg [38;5;241m=[39m re[38;5;241m.[39msub(
[0;32m    220[0m         [38;5;124mr[39m[38;5;124m"[39m[38;5;124mparameter of [39m[38;5;124m\[39m[38;5;124mw+ must be[39m[38;5;124m"[39m,
[0;32m    221[0m         [38;5;124mf[39m[38;5;124m"[39m[38;5;124mparameter of [39m[38;5;132;01m{[39;00mfunc[38;5;241m.[39m[38;5;18m__qualname__[39m[38;5;132;01m}[39;00m[38;5;124m must be[39m[38;5;124m"[39m,
[0;32m    222[0m         [38;5;28mstr[39m(e),
[0;32m    223[0m     )

File [1;32mC:\laragon\bin\python\python-3.10\lib\site-packages\sklearn\metrics\pairwise.py:2364[0m, in [0;36mpairwise_distances[1;34m(X, Y, metric, n_jobs, force_all_finite, **kwds)[0m
[0;32m   2361[0m         [38;5;28;01mreturn[39;00m distance[38;5;241m.[39msquareform(distance[38;5;241m.[39mpdist(X, metric[38;5;241m=[39mmetric, [38;5;241m*[39m[38;5;241m*[39mkwds))
[0;32m   2362[0m     func [38;5;241m=[39m partial(distance[38;5;241m.[39mcdist, metric[38;5;241m=[39mmetric, [38;5;241m*[39m[38;5;241m*[39mkwds)
[1;32m-> 2364[0m [38;5;28;01mreturn[39;00m _parallel_pairwise(X, Y, func, n_jobs, [38;5;241m*[39m[38;5;241m*[39mkwds)

File [1;32mC:\laragon\bin\python\python-3.10\lib\site-packages\sklearn\metrics\pairwise.py:1882[0m, in [0;36m_parallel_pairwise[1;34m(X, Y, func, n_jobs, **kwds)[0m
[0;32m   1879[0m X, Y, dtype [38;5;241m=[39m _return_float_dtype(X, Y)
[0;32m   1881[0m [38;5;28;01mif[39;00m effective_n_jobs(n_jobs) [38;5;241m==[39m [38;5;241m1[39m:
[1;32m-> 1882[0m     [38;5;28;01mreturn[39;00m func(X, Y, [38;5;241m*[39m[38;5;241m*[39mkwds)
[0;32m   1884[0m [38;5;66;03m# enforce a threading backend to prevent data communication overhead[39;00m
[0;32m   1885[0m fd [38;5;241m=[39m delayed(_dist_wrapper)

File [1;32mC:\laragon\bin\python\python-3.10\lib\site-packages\sklearn\utils\_param_validation.py:186[0m, in [0;36mvalidate_params.<locals>.decorator.<locals>.wrapper[1;34m(*args, **kwargs)[0m
[0;32m    184[0m global_skip_validation [38;5;241m=[39m get_config()[[38;5;124m"[39m[38;5;124mskip_parameter_validation[39m[38;5;124m"[39m]
[0;32m    185[0m [38;5;28;01mif[39;00m global_skip_validation:
[1;32m--> 186[0m     [38;5;28;01mreturn[39;00m func([38;5;241m*[39margs, [38;5;241m*[39m[38;5;241m*[39mkwargs)
[0;32m    188[0m func_sig [38;5;241m=[39m signature(func)
[0;32m    190[0m [38;5;66;03m# Map *args/**kwargs to the function signature[39;00m

File [1;32mC:\laragon\bin\python\python-3.10\lib\site-packages\sklearn\metrics\pairwise.py:361[0m, in [0;36meuclidean_distances[1;34m(X, Y, Y_norm_squared, squared, X_norm_squared)[0m
[0;32m    355[0m     [38;5;28;01mif[39;00m Y_norm_squared[38;5;241m.[39mshape [38;5;241m!=[39m ([38;5;241m1[39m, Y[38;5;241m.[39mshape[[38;5;241m0[39m]):
[0;32m    356[0m         [38;5;28;01mraise[39;00m [38;5;167;01mValueError[39;00m(
[0;32m    357[0m             [38;5;124mf[39m[38;5;124m"[39m[38;5;124mIncompatible dimensions for Y of shape [39m[38;5;132;01m{[39;00mY[38;5;241m.[39mshape[38;5;132;01m}[39;00m[38;5;124m and [39m[38;5;124m"[39m
[0;32m    358[0m             [38;5;124mf[39m[38;5;124m"[39m[38;5;124mY_norm_squared of shape [39m[38;5;132;01m{[39;00moriginal_shape[38;5;132;01m}[39;00m[38;5;124m.[39m[38;5;124m"[39m
[0;32m    359[0m         )
[1;32m--> 361[0m [38;5;28;01mreturn[39;00m [43m_euclidean_distances[49m[43m([49m[43mX[49m[43m,[49m[43m [49m[43mY[49m[43m,[49m[43m [49m[43mX_norm_squared[49m[43m,[49m[43m [49m[43mY_norm_squared[49m[43m,[49m[43m [49m[43msquared[49m[43m)[49m

File [1;32mC:\laragon\bin\python\python-3.10\lib\site-packages\sklearn\metrics\pairwise.py:396[0m, in [0;36m_euclidean_distances[1;34m(X, Y, X_norm_squared, Y_norm_squared, squared)[0m
[0;32m    393[0m     distances [38;5;241m=[39m _euclidean_distances_upcast(X, XX, Y, YY)
[0;32m    394[0m [38;5;28;01melse[39;00m:
[0;32m    395[0m     [38;5;66;03m# if dtype is already float64, no need to chunk and upcast[39;00m
[1;32m--> 396[0m     distances [38;5;241m=[39m [38;5;241;43m-[39;49m[38;5;241;43m2[39;49m[43m [49m[38;5;241;43m*[39;49m[43m [49m[43msafe_sparse_dot[49m[43m([49m[43mX[49m[43m,[49m[43m [49m[43mY[49m[38;5;241;43m.[39;49m[43mT[49m[43m,[49m[43m [49m[43mdense_output[49m[38;5;241;43m=[39;49m[38;5;28;43;01mTrue[39;49;00m[43m)[49m
[0;32m    397[0m     distances [38;5;241m+[39m[38;5;241m=[39m XX
[0;32m    398[0m     distances [38;5;241m+[39m[38;5;241m=[39m YY

[1;31mMemoryError[0m: Unable to allocate 1.00 GiB for an array with shape (6710, 20000) and data type float64

